---
- hosts: 10.8.8.11
  become: yes
  vars:
    password: "13011988"
  tasks:
  - name: create user k8s
    user:
      state: present
      name: k8s
      password: "{{ password | password_hash('sha512') }}"
      shell: /bin/bash
      create_home: yes
      group: adm
    register: user_info

  - debug:
      var: user_info
      
  - name: create file
    file:
      state: touch
      path: "{{ user_info.home }}/new.file"
    become: true
    become_user: k8s
